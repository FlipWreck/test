// Updated pattern_detector.pine

//@version=5
indicator("Pattern Detector Updated", overlay=true)

// Function to draw falling wedges
void drawFallingWedge(int startX, float startY1, float startY2, int endX)
    line.new(startX, startY1, endX, startY1, width=2, color=color.red)
    line.new(startX, startY2, endX, startY2, width=2, color=color.red)

// Function to draw triangles
void drawTriangle(int x1, float y1, int x2, float y2, int x3, float y3)
    line.new(x1, y1, x2, y2, width=2, color=color.blue)
    line.new(x2, y2, x3, y3, width=2, color=color.blue)
    line.new(x3, y3, x1, y1, width=2, color=color.blue)

// Function to draw head and shoulders
void drawHeadAndShoulders(int leftX, float leftY, int headX, float headY, int rightX, float rightY)
    line.new(leftX, leftY, headX, headY, width=2, color=color.green)
    line.new(headX, headY, rightX, rightY, width=2, color=color.green)

// Function to draw channels
void drawChannels(int x1, float y1, int x2, float y2, float channelHeight)
    line.new(x1, y1, x2, y1 + channelHeight, width=2, color=color.orange)
    line.new(x1, y1 + channelHeight, x2, y1 + channelHeight, width=2, color=color.orange)

// Function to draw flags
void drawFlags(int x1, float y1, int x2, float y2)
    box.new(x1, y1, x2, y2, bg_color=color.new(color.yellow, 90))

// Example usage (replace with actual coordinates in your usage):

// drawFallingWedge(1, 100, 70, 5);
// drawTriangle(1, 100, 3, 150, 2, 120);
// drawHeadAndShoulders(1, 90, 2, 120, 3, 90);
// drawChannels(1, 80, 3, 80, 10);
// drawFlags(1, 70, 3, 90);